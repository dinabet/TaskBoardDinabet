<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COPIE</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
     integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
     
</head>
<style>
  .center {
    margin: auto;
    width: 70%;
    height: fit-content;
    position:relative;
    background-image: url(booknotepage.jpg) ; 
  }
  ;
  </style> 

         
        <body style="background-image:url(tableau-liege.jpg)";>
          <script>alert("!!!YOU MUST FIRST DOWNLOAD THE SAVED TASKS AND THEN YOU CAN SAVE THE NEW ONES") </script>
          
          <h1 style = "font-family:'Times New Roman';font: bold;color: rgb(58, 226, 231);text-align: center;">The TaskBoard</h1> 
          <button onclick="saveInLocalStorage()" style="position: relative;"> save all the tasks </button>
          <button onclick="LoadFromLocalStorage()" style="position: relative;"> load all the saved tasks </button>
          <div class="center" >
          <div class = "center" >
     <!-- the form to fill by task description -the date and the hour of the task realisation -->         
     <form> 
      <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label"  ">CLERC NAME </label>
        <input id = "clercName" type="text" class="form-control" id="exampleFormControlInput1" >
      </div>
      <div class="mb-3">
        <label for="exampleFormControlTextarea1" class="form-label">description of the task</label>
        <textarea id = "fTask" class="form-control" id="exampleFormControlTextarea1" style="background:transparent ;"  rows="5"></textarea>  
        <div class="mb-3">
            <p>Fixing Date</p>
            <input id="fDate" type="date" name="name" required/>
            <i class="fas fa-calendar-alt"></i>
          </div>
          <div class="item">
            <p>Fixing Time</p>
            <input id="fHour" type="time" name="name" required/>
            
          </div>
      </div>    
          
      </div>       
     <input type="reset" >
</form>
<!-- button creating the postit full with the task details-->
<button  onclick="StickTheTaskOnTheBoard()" class="btn btn-success" > Add the task </button>
          </div>
          <br><br><br>

<div id = "displayTask"<div class="row row-cols-1 row-cols-md-3 g-4">
  
<script>
  

let tasksList=[];
const clercName = document.getElementById("clercName");
const fTask = document.getElementById("fTask");
const fDate = document.getElementById("fDate");
const fHour = document.getElementById("fHour");
  

    function addTask(lst=tasksList){ 
  let  taskInfo = {
    Name:clercName.value,
    Task : fTask.value,
    Date:fDate.value,
    Hour:fHour.value} 
   
    tasksList.push(taskInfo);
    

}

function StickTheTaskOnTheBoard(lst=tasksList){ displayTask.innerHTML="";
  addTask(tasksList);
  for (let index=0;index<lst.length;index++) {displayTask.innerHTML+= `<div class="card text-white bg-transparent mb-3"
   style="max-width: 18rem;background-image: url(tableau-liege-note-epinglee-rose.jpg);">
    <div class="card-body">
      <h5 class="card-title"><a href="#" class="card-link">Another link</a></h5>
      <h6 class="card-subtitle mb-2 text-muted">Task description</h6>      
      <textarea id = "fTask" class="form-control" id="exampleFormControlTextarea1" style="background:transparent;" rows="5">${tasksList[index].Task}</textarea>
      <h6>Date:${tasksList[index].Date}</h6>
      <h6>Hour:${tasksList[index].Hour}</h6>
          
    </div>
  </div> `
}

}


function StickloadedTasksOnTheBoard(lst=tasksList){ 
                
  for (let index=0;index<lst.length;index++) {displayTask.innerHTML+= `<div class="card text-white bg-transparent mb-3"
  style="max-width: 18rem;background-image: url(tableau-liege-note-epinglee-rose.jpg);">
    <div class="card-body">
      <h5 class="card-title"><a href="#" class="card-link">Another link</a></h5>
      <h6 class="card-subtitle mb-2 text-muted">Task description</h6>      
      <textarea id = "fTask" class="form-control" id="exampleFormControlTextarea1" style="background:transparent;" rows="5">${tasksList[index].Task}</textarea>
      <h6>Date:${tasksList[index].Date}</h6>
      <h6>Hour:${tasksList[index].Hour}</h6>
          
    </div>
  </div> `;
 
  
}

}



function saveInLocalStorage(){
                localStorage.setItem("tasksList",JSON.stringify(tasksList));
      }
       function LoadFromLocalStorage(){
                tasksList = JSON.parse(localStorage.getItem("tasksList"));
               console.log(tasksList);
               StickloadedTasksOnTheBoard();
               
       }

</script>

</body>
</html>
